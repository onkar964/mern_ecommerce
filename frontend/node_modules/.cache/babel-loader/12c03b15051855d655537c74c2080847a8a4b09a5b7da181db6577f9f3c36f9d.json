{"ast":null,"code":"import React from'react';import'./Checkout.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const Checkout=()=>{const checkout=async()=>{try{const response=await fetch('https://ecommerce-backend-jp8n.onrender.com/checkout',{method:'POST',headers:{'Content-Type':'application/json','auth-token':localStorage.getItem('auth-token')}});if(response.ok){toast.success('Order placed successfully',{position:\"top-right\",autoClose:1500,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});// Redirect to homepage after successful checkout\nwindow.location.replace(\"/\");}else{toast.error('Failed to place order. Please try again later.',{position:\"top-right\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});}}catch(error){console.error('Error during checkout:',error);toast.error('Failed to place order. Please try again later.',{position:\"top-right\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined,theme:\"light\"});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:1500,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"light\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputfield\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Please Enter your delivery address\",name:\"\",id:\"\"}),/*#__PURE__*/_jsx(\"button\",{onClick:checkout,children:\"Buy with Cash on delivery\"})]})})]});};export default Checkout;","map":{"version":3,"names":["React","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Checkout","checkout","response","fetch","method","headers","localStorage","getItem","ok","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","window","location","replace","error","console","children","newestOnTop","rtl","pauseOnFocusLoss","className","type","placeholder","name","id","onClick"],"sources":["C:/Users/onkar/OneDrive/Documents/VS Code projects/UPGRAD ECOMMERCE/Ecommerce/frontend/src/Components/Checkout/Checkout.jsx"],"sourcesContent":["import React from 'react';\r\nimport './Checkout.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport const Checkout = () => {\r\n    const checkout = async () => {\r\n        try {\r\n            const response = await fetch('https://ecommerce-backend-jp8n.onrender.com/checkout', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'auth-token': localStorage.getItem('auth-token') \r\n                },\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success('Order placed successfully', {\r\n                    position: \"top-right\",\r\n                    autoClose: 1500,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                });\r\n                // Redirect to homepage after successful checkout\r\n                window.location.replace(\"/\");\r\n            } else {\r\n                toast.error('Failed to place order. Please try again later.', {\r\n                    position: \"top-right\",\r\n                    autoClose: 3000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined,\r\n                    theme: \"light\",\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Error during checkout:', error);\r\n            toast.error('Failed to place order. Please try again later.', {\r\n                position: \"top-right\",\r\n                autoClose: 3000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n                theme: \"light\",\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                autoClose={1500}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n                theme=\"light\"\r\n            />\r\n            <div className='container'>\r\n                <div className='inputfield'>\r\n                    <input type=\"text\" placeholder='Please Enter your delivery address' name=\"\" id=\"\" />\r\n                    <button onClick={checkout}>Buy with Cash on delivery</button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,gBAAgB,CACvB,OAASC,cAAc,CAAEC,KAAK,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/C,MAAO,MAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,QAAQ,CAAG,KAAAA,CAAA,GAAY,CACzB,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,sDAAsD,CAAE,CACjFC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,YAAY,CACnD,CACJ,CAAC,CAAC,CAEF,GAAIL,QAAQ,CAACM,EAAE,CAAE,CACbf,KAAK,CAACgB,OAAO,CAAC,2BAA2B,CAAE,CACvCC,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACX,CAAC,CAAC,CACF;AACAC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC,CAChC,CAAC,IAAM,CACH5B,KAAK,CAAC6B,KAAK,CAAC,gDAAgD,CAAE,CAC1DZ,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACX,CAAC,CAAC,CACN,CACJ,CAAE,MAAOI,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C7B,KAAK,CAAC6B,KAAK,CAAC,gDAAgD,CAAE,CAC1DZ,QAAQ,CAAE,WAAW,CACrBC,SAAS,CAAE,IAAI,CACfC,eAAe,CAAE,KAAK,CACtBC,YAAY,CAAE,IAAI,CAClBC,YAAY,CAAE,IAAI,CAClBC,SAAS,CAAE,IAAI,CACfC,QAAQ,CAAEC,SAAS,CACnBC,KAAK,CAAE,OACX,CAAC,CAAC,CACN,CACJ,CAAC,CAED,mBACIrB,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACI7B,IAAA,CAACH,cAAc,EACXkB,QAAQ,CAAC,WAAW,CACpBC,SAAS,CAAE,IAAK,CAChBC,eAAe,CAAE,KAAM,CACvBa,WAAW,CAAE,KAAM,CACnBZ,YAAY,MACZa,GAAG,CAAE,KAAM,CACXC,gBAAgB,MAChBZ,SAAS,MACTD,YAAY,MACZI,KAAK,CAAC,OAAO,CAChB,CAAC,cACFvB,IAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAJ,QAAA,cACtB3B,KAAA,QAAK+B,SAAS,CAAC,YAAY,CAAAJ,QAAA,eACvB7B,IAAA,UAAOkC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,oCAAoC,CAACC,IAAI,CAAC,EAAE,CAACC,EAAE,CAAC,EAAE,CAAE,CAAC,cACpFrC,IAAA,WAAQsC,OAAO,CAAEhC,QAAS,CAAAuB,QAAA,CAAC,2BAAyB,CAAQ,CAAC,EAC5D,CAAC,CACL,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAe,CAAAxB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}